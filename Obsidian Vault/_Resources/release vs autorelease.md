В Objective-C, управление памятью до введения Automatic Reference Counting (ARC) осуществлялось вручную с использованием методов `retain`, `release` и `autorelease`. Понимание различий между `release` и `autorelease` важно для корректного управления памятью в приложениях, которые по-прежнему используют ручное управление памятью (Manual Retain Release, MRC).

### Release

Метод `release` непосредственно уменьшает счетчик ссылок объекта на единицу. Когда счетчик ссылок объекта достигает нуля, объект уничтожается, и память, занимаемая им, освобождается. Важно понимать, что использование `release` приводит к мгновенному уменьшению счетчика ссылок, и если он станет равным нулю, объект будет уничтожен немедленно.

```objective-c
[object release]; // Уменьшает счетчик ссылок объекта и может привести к его освобождению
```

### Autorelease

Метод `autorelease` также уменьшает счетчик ссылок, но делает это не сразу, а когда текущий autorelease pool достигает своего конца жизненного цикла и начинает "освобождение" объектов, которые были помещены в него. Это означает, что объект будет жить достаточно долго, чтобы выполнить текущие операции с ним в рамках текущего цикла выполнения или события, после чего будет освобожден.

```objective-c
[object autorelease]; // Добавляет объект в текущий autorelease pool
```

### Сравнение и выбор

- **Немедленное освобождение памяти**: Используйте `release` для немедленного уменьшения счетчика ссылок, когда вы точно знаете, что объект больше не нужен и его можно безопасно удалить.
- **Отложенное освобождение памяти**: Используйте `autorelease` когда объект должен оставаться "живым" в течение текущего цикла выполнения, например, когда возвращается объект из метода, и вызывающий код ожидает его использования.

### Пример использования

```objective-c
- (NSString *)fullName {
    NSString *fullName = [[NSString alloc] initWithFormat:@"%@ %@", self.firstName, self.lastName];
    return [fullName autorelease];  // Возвращаем объект, который будет освобожден позже
}
```

Здесь `fullName` создается и сразу помещается в autorelease pool, так что вызывающий метод может его использовать, прежде чем он будет освобожден в конце цикла.

Использование `autorelease` особенно распространено в методах, где объекты создаются и возвращаются другим частям приложения. Это обеспечивает достаточную гибкость для управления временем жизни объектов без риска их преждевременного освобождения. В свою очередь, `release` чаще используется для управления собственностью на объекты внутри блоков кода, где точно известно, что объекты больше не нужны.